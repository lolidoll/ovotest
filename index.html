<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" href="https://i.postimg.cc/5t8d45Lh/IMG-20260116-212844.png">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='50' font-size='90' fill='%23333'>è–¯</text></svg>">
    <title>è–¯ç‰‡æœº</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="moments.css">
    <link rel="stylesheet" href="auth-modal.css">
    <script src="auth-modal.js" defer></script>
    <script src="login.js" defer></script>
    <script src="app.js" defer></script>
    <script src="voice-message.js" defer></script>
    <script src="location-message.js" defer></script>
  
</head>
<body>
    <!-- è®¤è¯æ¨¡æ€æ¡† (æ–°è®¾è®¡) -->
    <div class="auth-modal-overlay" id="auth-modal-overlay">
        <div class="auth-modal-container">
            <!-- èƒŒæ™¯è£…é¥° -->
            <div class="auth-bg-decoration"></div>
            
            <!-- æ¨¡æ€æ¡†å†…å®¹ -->
            <div class="auth-modal-content">
                <!-- é¡¶éƒ¨è£…é¥°çº¿ -->
                <div class="auth-top-bar"></div>
                
                <!-- Logo å’Œæ ‡é¢˜ -->
                <div class="auth-header">
                    <div class="auth-logo">
                        <img class="auth-logo-icon" src="https://image.uglycat.cc/qs8mf5.png" alt="Logo">
                    </div>
                    <h1 class="auth-title">è–¯ç‰‡æœº</h1>
                    <p class="auth-subtitle">ä»…ç”¨äºä¸ªäººå­¦ä¹ ï¼Œæœ¬ä»£ç å®Œå…¨å¼€æºè®¾è®¡<br>æ”¯æŒä»»ä½•äºŒæ”¹ï¼ˆä½†éœ€æ ‡æ³¨åŸä½œè€…â€œå°è–¯ç‰‡â€ï¼‰<br>è¯¥å°æ‰‹æœºå®Œå…¨å…è´¹ï¼Œå¦‚é‡ä»˜è´¹å³åˆ»ç”³è¯·é€€æ¬¾ã€‚</p>
                </div>
                
                <!-- ä¸»è¦å†…å®¹ -->
                <div class="auth-main">
                    <div class="auth-intro">
                        <div class="auth-intro-item">
                            <div class="auth-intro-icon">âœ¨</div>
                            <div class="auth-intro-text">è§’è‰²æ‰®æ¼”</div>
                        </div>
                        <div class="auth-intro-item">
                            <div class="auth-intro-icon">ğŸ€</div>
                            <div class="auth-intro-text">è™šæ‹ŸèŠå¤©</div>
                        </div>
                        <div class="auth-intro-item">
                            <div class="auth-intro-icon">ğŸ’•</div>
                            <div class="auth-intro-text">AIäº’åŠ¨</div>
                        </div>
                    </div>
                </div>
                
                <!-- ç™»å½•æŒ‰é’® -->
                <div class="auth-actions">
                    <button class="auth-btn auth-btn-discord" id="auth-discord-btn">
                        <svg class="auth-btn-icon" viewBox="0 0 24 24" width="20" height="20">
                            <path fill="currentColor" d="M20.317 4.3671C18.7975 3.5373 17.147 2.9708 15.4545 2.7085C15.2087 3.1137 14.9369 3.6137 14.7562 4.0171C12.9712 3.7285 11.2146 3.7285 9.47812 4.0171C9.29745 3.6052 9.01312 3.1137 8.76437 2.7085C7.07382 2.9708 5.40277 3.5373 3.88233 4.3671C0.570533 9.1293 -0.0828944 13.7936 0.261145 18.3886C2.18418 19.7754 4.04779 20.6145 5.88147 21.1274C6.39521 20.4220 6.84365 19.6693 7.20782 18.8720C6.40771 18.5533 5.63360 18.1450 4.91162 17.6620C5.10249 17.5115 5.28905 17.3569 5.46412 17.1997C9.88141 19.4027 14.7457 19.4027 19.0528 17.1997C19.2278 17.3569 19.4149 17.5115 19.6011 17.6620C18.8791 18.1450 18.1045 18.5533 17.3046 18.8720C17.6684 19.6693 18.1169 20.4220 18.6307 21.1274C20.4645 20.6145 22.3281 19.7754 24.2511 18.3886C24.6314 13.3471 23.7067 8.8267 20.317 4.3671ZM8.02109 15.6503C6.8559 15.6503 5.90977 14.6039 5.90977 13.3287C5.90977 12.0535 6.8404 11.0071 8.02109 11.0071C9.20178 11.0071 10.1424 12.0535 10.1424 13.3287C10.1424 14.6039 9.20178 15.6503 8.02109 15.6503ZM15.9775 15.6503C14.8123 15.6503 13.8662 14.6039 13.8662 13.3287C13.8662 12.0535 14.7969 11.0071 15.9775 11.0071C17.1582 11.0071 18.0989 12.0535 18.0989 13.3287C18.0989 14.6039 17.1582 15.6503 15.9775 15.6503Z"/>
                        </svg>
                        <span>ä½¿ç”¨ Discord ç™»å½•</span>
                    </button>
                    <p class="auth-tips">ç™»å½•åå°†åœ¨æ­¤è®¾å¤‡ä¿æŒç™»å½•çŠ¶æ€</p>
                </div>
                
                <!-- åŠ è½½çŠ¶æ€ -->
                <div class="auth-loading" id="auth-loading" style="display: none;">
                    <div class="auth-spinner"></div>
                    <p>æ­£åœ¨è¿æ¥ Discord...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- æ¶ˆæ¯é€šçŸ¥æ  -->
    <div class="notification-bar" id="notification-bar">
        <div class="notification-content">
            <div class="notification-left">
                <div class="notification-avatar" id="notification-avatar">é€š</div>
                <div class="notification-info">
                    <div class="notification-name" id="notification-name">é€šçŸ¥åç§°</div>
                    <div class="notification-preview" id="notification-preview">é€šçŸ¥å†…å®¹é¢„è§ˆ</div>
                </div>
            </div>
            <div class="notification-right">
                <div class="notification-time" id="notification-time">æ—¶é—´</div>
                <div class="notification-close" id="notification-close">Ã—</div>
            </div>
        </div>
    </div>
    
    <div id="app-container">
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <div class="top-nav" id="top-nav">
            <div class="user-info" id="user-info">
                <div class="user-avatar" id="user-avatar-display">è–¯</div>
                <div class="user-name">è–¯ç‰‡æœºç”¨æˆ·</div>
            </div>
            <div class="add-btn" id="add-btn">
                <svg class="icon-svg" viewBox="0 0 24 24">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </div>
        </div>

        <!-- æ·»åŠ å¼¹çª— -->
        <div class="add-popup" id="add-popup">
            <div class="popup-item" id="add-friend-btn">
                <div class="popup-icon">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <circle cx="10" cy="8" r="4"></circle>
                        <path d="M2 20c0-4 4-6 8-6"></path>
                        <line x1="19" y1="11" x2="19" y2="17"></line>
                        <line x1="16" y1="14" x2="22" y2="14"></line>
                    </svg>
                </div>
                <div class="popup-text">æ·»åŠ å¥½å‹</div>
            </div>
            <div class="popup-divider"></div>
            <div class="popup-item" id="create-group-btn">
                <div class="popup-icon">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <circle cx="9" cy="7" r="3"></circle>
                        <circle cx="15" cy="7" r="3"></circle>
                        <path d="M3 19c0-3 3-5 6-5"></path>
                        <path d="M15 14c3 0 6 2 6 5"></path>
                        <line x1="12" y1="17" x2="12" y2="21"></line>
                        <line x1="10" y1="19" x2="14" y2="19"></line>
                    </svg>
                </div>
                <div class="popup-text">åˆ›å»ºç¾¤èŠ</div>
            </div>
            <div class="popup-divider"></div>
            <div class="popup-item" id="import-card-btn">
                <div class="popup-icon">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </div>
                <div class="popup-text">å¯¼å…¥è§’è‰²å¡</div>
            </div>
        </div>

        <!-- ä¾§è¾¹åŠŸèƒ½æ  -->
        <div class="side-menu" id="side-menu">
            <div class="card-info" id="card-info">
                <div class="card-bg" id="card-bg"></div>
                <div class="card-content">
                    <div class="card-avatar" id="card-avatar">è–¯</div>
                    <div class="card-name" id="display-name">è–¯ç‰‡æœºç”¨æˆ·</div>
                    <div class="card-signature" id="card-signature">è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½æ²¡å†™~</div>
                </div>
            </div>
            
            <div class="menu-list">
                <div class="menu-item" data-func="wallet">
                    <div class="menu-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <rect x="2" y="6" width="20" height="14" rx="2"></rect>
                            <path d="M2 10h20"></path>
                            <circle cx="16" cy="14" r="1.5"></circle>
                        </svg>
                    </div>
                    <div class="menu-text">é’±åŒ…</div>
                </div>
                
                <div class="menu-item" data-func="collection">
                    <div class="menu-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
                        </svg>
                    </div>
                    <div class="menu-text">æ”¶è—</div>
                </div>
                
                <div class="menu-item" data-func="emoji">
                    <div class="menu-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                            <line x1="9" y1="9" x2="9.01" y2="9"></line>
                            <line x1="15" y1="9" x2="15.01" y2="9"></line>
                        </svg>
                    </div>
                    <div class="menu-text">è¡¨æƒ…åŒ…</div>
                </div>
                
                <div class="menu-item" data-func="worldbook">
                    <div class="menu-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                            <path d="M12 13v2"></path>
                        </svg>
                    </div>
                    <div class="menu-text">ä¸–ç•Œä¹¦</div>
                </div>
                
                <div class="menu-divider"></div>
                
                <div class="menu-item" data-func="decoration">
                    <div class="menu-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M12 2v4"></path>
                            <path d="M12 18v4"></path>
                            <path d="M4.93 4.93l2.83 2.83"></path>
                            <path d="M16.24 16.24l2.83 2.83"></path>
                            <path d="M2 12h4"></path>
                            <path d="M18 12h4"></path>
                            <path d="M4.93 19.07l2.83-2.83"></path>
                            <path d="M16.24 7.76l2.83-2.83"></path>
                        </svg>
                    </div>
                    <div class="menu-text">ä¸ªæ€§è£…æ‰®</div>
                </div>
                
                <div class="menu-item" data-func="api-settings">
                    <div class="menu-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <rect x="3" y="3" width="7" height="7" rx="1"></rect>
                            <rect x="14" y="3" width="7" height="7" rx="1"></rect>
                            <rect x="3" y="14" width="7" height="7" rx="1"></rect>
                            <circle cx="17.5" cy="17.5" r="3.5"></circle>
                        </svg>
                    </div>
                    <div class="menu-text">APIè®¾ç½®</div>
                </div>















                
                <div class="menu-item" data-func="couples-space">
                    <div class="menu-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                    </div>
                    <div class="menu-text">æƒ…ä¾£ç©ºé—´</div>
                </div>
                
                <div class="menu-divider"></div>
                
                <div class="menu-item" data-func="preset">
                    <div class="menu-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <rect x="3" y="3" width="7" height="7" rx="1"></rect>
                            <rect x="14" y="3" width="7" height="7" rx="1"></rect>
                            <rect x="3" y="14" width="7" height="7" rx="1"></rect>
                            <rect x="14" y="14" width="7" height="7" rx="1"></rect>
                        </svg>
                    </div>
                    <div class="menu-text">é…ç½®</div>
                </div>
                
                <div class="menu-item" data-func="settings">
                    <div class="menu-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                    </div>
                    <div class="menu-text">è®¾ç½®</div>
                </div>
            </div>
        </div>

        <!-- é®ç½©å±‚ -->
        <div class="mask" id="mask"></div>

        <!-- æ¶ˆæ¯é¡µé¢ -->
        <div class="main-content msg-page active" id="msg-page">
            <div class="search-bar">
                <div class="search-wrapper">
                    <svg class="icon-svg search-icon" viewBox="0 0 24 24">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                    <input type="text" class="search-input" placeholder="æœç´¢" id="search-input-msg">
                </div>
            </div>
            
            <div class="msg-list" id="msg-list">
                <div class="empty-state" id="msg-empty">
                    <div class="empty-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24" style="width:100%;height:100%;">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2  2 0 0 1 2 2z"></path>
                            <line x1="9" y1="10" x2="15" y2="10"></line>
                        </svg>
                    </div>
                    <div class="empty-text">æš‚æ— æ¶ˆæ¯<br>ç‚¹å‡»å³ä¸Šè§’æ·»åŠ å¥½å‹å¼€å§‹èŠå¤©</div>
                </div>
            </div>
        </div>

        <!-- å¥½å‹é¡µé¢ -->
        <div class="main-content friend-page" id="friend-page">
            <div class="search-bar">
                <div class="search-wrapper">
                    <svg class="icon-svg search-icon" viewBox="0 0 24 24">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                    <input type="text" class="search-input" placeholder="æœç´¢å¥½å‹" id="search-input-friend">
                </div>
            </div>
            
            <div class="friend-content" id="friend-content">
                <div class="friend-group">
                    <div class="group-header" data-group="common">
                        <div class="group-title-left">
                            <div class="group-arrow"></div>
                            <div class="group-title">æˆ‘çš„å¥½å‹</div>
                            <div class="group-count">(0/0)</div>
                        </div>
                        <div class="group-edit">ç®¡ç†</div>
                    </div>
                    <div class="friend-list show" data-group="common">
                        <div class="empty-state" style="padding: 30px 20px;">
                            <div class="empty-text">æš‚æ— å¥½å‹</div>
                        </div>
                    </div>
                </div>
                
                <div class="friend-group">
                    <div class="group-header collapsed" data-group="groups">
                        <div class="group-title-left">
                            <div class="group-arrow"></div>
                            <div class="group-title">ç¾¤èŠç®¡ç†</div>
                            <div class="group-count">(0/0)</div>
                        </div>
                        <div class="group-edit">ç®¡ç†</div>
                    </div>
                    <div class="friend-list" data-group="groups">
                        <div class="empty-state" style="padding: 30px 20px;">
                            <div class="empty-text">æš‚æ— ç¾¤èŠ</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- åŠ¨æ€é¡µé¢ - æ— é¡¶éƒ¨æ å’Œæœç´¢æ  -->
        <div class="main-content dynamic-page" id="dynamic-page">
            <div class="dynamic-content">
                <div class="func-list" id="func-list">
                    <!-- æœ‹å‹åœˆ -->
                    <div class="func-item" data-page="moments-page" data-func-id="moments">
                        <div class="func-left">
                            <div class="func-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                    <path d="M21 15l-5-5L5 21"></path>
                                </svg>
                            </div>
                            <div class="func-name">æœ‹å‹åœˆ</div>
                        </div>
                        <div class="func-arrow"></div>
                    </div>
                    
                    <!-- è®ºå› -->
                    <div class="func-item" data-page="forum-page" data-func-id="forum">
                        <div class="func-left">
                            <div class="func-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                    <line x1="8" y1="8" x2="16" y2="8"></line>
                                    <line x1="8" y1="12" x2="14" y2="12"></line>
                                </svg>
                            </div>
                            <div class="func-name">è®ºå›</div>
                        </div>
                        <div class="func-arrow"></div>
                    </div>

                                        <!-- é˜…è¯» -->
                    <div class="func-item" data-page="reading-page" data-func-id="reading">
                        <div class="func-left">
                            <div class="func-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                                    <line x1="8" y1="7" x2="16" y2="7"></line>
                                    <line x1="8" y1="11" x2="14" y2="11"></line>
                                </svg>
                            </div>
                            <div class="func-name">é˜…è¯»</div>
                        </div>
                        <div class="func-arrow"></div>
                    </div>

                    <div class="func-divider"></div>

                    <!-- å¤©æ°” - æ–°æ·»åŠ çš„ -->
<div class="func-item" data-page="weather-page" data-func-id="weather">
    <div class="func-left">
        <div class="func-icon">
            <svg class="icon-svg" viewBox="0 0 24 24" fill="gray">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="3" x2="12" y2="6"/>
                <line x1="12" y1="18" x2="12" y2="21"/>
                <line x1="3" y1="12" x2="6" y2="12"/>
                <line x1="18" y1="12" x2="21" y2="12"/>
                <line x1="4.22" y1="19.78" x2="6.64" y2="17.36"/>
                <line x1="17.36" y1="6.64" x2="19.78" y2="4.22"/>
                <line x1="4.22" y1="4.22" x2="6.64" y2="6.64"/>
                <line x1="17.36" y1="17.36" x2="19.78" y2="19.78"/>
            </svg>
        </div>
        <div class="func-name">å¤©æ°”</div>
    </div>
    <div class="func-arrow"></div>
</div>

                    <!-- æ—¥å† -->
                    <div class="func-item" data-page="calendar-page" data-func-id="calendar">
                        <div class="func-left">
                            <div class="func-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                            </div>
                            <div class="func-name">æ—¥å†</div>
                        </div>
                        <div class="func-arrow"></div>
                    </div>
                    
                    <div class="func-divider"></div>
                    
                    
    <!-- è´­ç‰© - æ–°æ·»åŠ çš„ -->
<div class="func-item" data-page="shopping-page" data-func-id="shopping">
        <div class="func-left">
            <div class="func-icon">
                <svg class="icon-svg" viewBox="0 0 24 24">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
            </div>
            <div class="func-name">è´­ç‰©</div>
        </div>
        <div class="func-arrow"></div>
    </div>

                    <!-- æ¸¸æˆä¸­å¿ƒ -->
                    <div class="func-item" data-page="game-page" data-func-id="game">
                        <div class="func-left">
                            <div class="func-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <rect x="2" y="6" width="20" height="12" rx="2"></rect>
                                    <circle cx="6" cy="12" r="1.5"></circle>
                                    <circle cx="10" cy="12" r="1.5"></circle>
                                    <path d="M15 10v4"></path>
                                    <path d="M13 12h4"></path>
                                </svg>
                            </div>
                            <div class="func-name">æ¸¸æˆä¸­å¿ƒ</div>
                        </div>
                        <div class="func-arrow"></div>
                    </div>

                    <div class="func-divider"></div>

                    <!-- é»˜å¥‘å¤§æŒ‘æˆ˜ -->
                    <div class="func-item" data-page="tacit-page" data-func-id="tacit">
                        <div class="func-left">
                            <div class="func-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                </svg>
                            </div>
                            <div class="func-name">é»˜å¥‘å¤§æŒ‘æˆ˜</div>
                        </div>
                        <div class="func-arrow"></div>
                    </div>

                    <!-- å¿ƒçµæ˜Ÿç³» -->
                    <div class="func-item" data-page="spirit-galaxy-page" data-func-id="spiritGalaxy">
                        <div class="func-left">
                            <div class="func-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <polygon points="12 2 15.09 10.26 23.77 10.26 17.39 16.01 20.48 24.27 12 18.46 3.52 24.27 6.61 16.01 0.23 10.26 8.91 10.26"></polygon>
                                </svg>
                            </div>
                            <div class="func-name">å¿ƒçµæ˜Ÿç³»</div>
                        </div>
                        <div class="func-arrow"></div>
                    </div>

                    <!-- çµæ„Ÿåº“ -->
                    <div class="func-item" data-page="idea-library-page" data-func-id="ideaLibrary">
                        <div class="func-left">
                            <div class="func-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8.5 8.5z"></path>
                                    <line x1="12" y1="7" x2="12" y2="13"></line>
                                    <line x1="9" y1="10" x2="15" y2="10"></line>
                                </svg>
                            </div>
                            <div class="func-name">çµæ„Ÿåº“</div>
                        </div>
                        <div class="func-arrow"></div>
                    </div>

                    <!-- è§‚å¯Ÿè€… -->
                    <div class="func-item" data-page="third-party-page" data-func-id="thirdParty">
                        <div class="func-left">
                            <div class="func-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="3"></circle>
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                </svg>
                            </div>
                            <div class="func-name">è§‚å¯Ÿè€…</div>
                        </div>
                        <div class="func-arrow"></div>
                    </div>
                    
                    
                    <div class="func-divider"></div>

                </div>
                


                <!-- æ›´å¤šåŠŸèƒ½æŒ‰é’® -->
                <div class="more-func-item" id="more-func-btn">
                    <div class="more-func-text">æ›´å¤šåŠŸèƒ½ â€º</div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨æ ‡ç­¾æ  -->
        <div class="tab-bar" id="tab-bar">
            <div class="tab-item active" data-tab="msg-page">
                <div class="tab-icon">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                </div>
                <div class="tab-text">æ¶ˆæ¯</div>
            </div>
            <div class="tab-item" data-tab="friend-page">
                <div class="tab-icon">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                </div>
                <div class="tab-text">å¥½å‹</div>
            </div>
            <div class="tab-item" data-tab="dynamic-page">
                <div class="tab-icon">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 6v6l4 2"></path>
                    </svg>
                </div>
                <div class="tab-text">åŠ¨æ€</div>
            </div>
        </div>

        <!-- æ·»åŠ å¥½å‹é¡µé¢ -->
        <div class="add-friend-page" id="add-friend-page">
            <div class="sub-nav">
                <div class="back-btn" id="add-friend-back-btn">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">æ·»åŠ å¥½å‹</div>
            </div>
            <div class="add-page-content">
                <div class="add-section">
                    <div class="add-section-header">åŸºæœ¬ä¿¡æ¯</div>
                    <div class="add-input-group">
                        <label class="add-input-label">åç§° *</label>
                        <input type="text" class="add-input" id="friend-name-input" placeholder="è¾“å…¥å¥½å‹åç§°">
                    </div>
                    <div class="add-input-group">
                        <label class="add-input-label">å¤´åƒURLï¼ˆå¯é€‰ï¼‰</label>
                        <input type="text" class="add-input" id="friend-avatar-input" placeholder="è¾“å…¥å¤´åƒå›¾ç‰‡é“¾æ¥">
                    </div>
                    <div class="add-input-group">
                        <label class="add-input-label">äººè®¾æè¿°ï¼ˆå¯é€‰ï¼‰</label>
                        <textarea class="add-textarea" id="friend-desc-input" placeholder="æè¿°TAçš„æ€§æ ¼ã€èƒŒæ™¯ç­‰..."></textarea>
                    </div>
                    <div class="add-input-group">
                        <label class="add-input-label">å¼€åœºç™½ï¼ˆå¯é€‰ï¼‰</label>
                        <textarea class="add-textarea" id="friend-greeting-input" placeholder="TAç¬¬ä¸€æ¬¡è¯´çš„è¯..."></textarea>
                    </div>
                </div>
                
                <div class="add-btn-group">
                    <button class="add-cancel-btn" id="add-friend-cancel">å–æ¶ˆ</button>
                    <button class="add-submit-btn" id="add-friend-submit">æ·»åŠ å¥½å‹</button>
                </div>
            </div>
        </div>

        <!-- åˆ›å»ºç¾¤èŠé¡µé¢ -->
        <div class="add-friend-page" id="create-group-page">
            <div class="sub-nav">
                <div class="back-btn" id="create-group-back-btn">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">åˆ›å»ºç¾¤èŠ</div>
            </div>
            <div class="add-page-content">
                <div class="add-section">
                    <div class="add-section-header">ç¾¤èŠä¿¡æ¯</div>
                    <div class="add-input-group">
                        <label class="add-input-label">ç¾¤åç§° *</label>
                        <input type="text" class="add-input" id="group-name-input" placeholder="è¾“å…¥ç¾¤èŠåç§°">
                    </div>
                    <div class="add-input-group">
                        <label class="add-input-label">ç¾¤å¤´åƒURLï¼ˆå¯é€‰ï¼‰</label>
                        <input type="text" class="add-input" id="group-avatar-input" placeholder="è¾“å…¥ç¾¤å¤´åƒå›¾ç‰‡é“¾æ¥">
                    </div>
                    <div class="add-input-group">
                        <label class="add-input-label">ç¾¤æè¿°ï¼ˆå¯é€‰ï¼‰</label>
                        <textarea class="add-textarea" id="group-desc-input" placeholder="æè¿°ç¾¤èŠçš„ä¸»é¢˜..."></textarea>
                    </div>
                </div>
                
                <div class="add-btn-group">
                    <button class="add-cancel-btn" id="create-group-cancel">å–æ¶ˆ</button>
                    <button class="add-submit-btn" id="create-group-submit">åˆ›å»ºç¾¤èŠ</button>
                </div>
            </div>
        </div>

        <!-- å¯¼å…¥è§’è‰²å¡é¡µé¢ -->
        <div class="add-friend-page" id="import-card-page">
            <div class="sub-nav">
                <div class="back-btn" id="import-card-back-btn">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">å¯¼å…¥è§’è‰²å¡</div>
            </div>
            <div class="add-page-content">
                <div class="import-section">
                    <div class="import-title">
                        <svg class="icon-svg" viewBox="0 0 24 24" style="width:20px;height:20px;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        æ‰¹é‡å¯¼å…¥è§’è‰²å¡
                    </div>
                    <div class="import-desc">
                        æ”¯æŒ SillyTavern æ ¼å¼çš„ JSON è§’è‰²å¡æ–‡ä»¶ï¼Œå¯ä¸€æ¬¡é€‰æ‹©å¤šä¸ªæ–‡ä»¶æ‰¹é‡å¯¼å…¥ã€‚
                    </div>
                    <div class="import-btn" id="import-file-btn">
                        <svg class="icon-svg" viewBox="0 0 24 24" style="width:20px;height:20px;">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        ç‚¹å‡»é€‰æ‹©æ–‡ä»¶
                    </div>
                    <input type="file" class="import-file-input" id="import-file-input" accept=".json" multiple>
                    
                    <div class="import-preview" id="import-preview"></div>
                    <button class="import-all-btn" id="import-all-btn">å¯¼å…¥å…¨éƒ¨è§’è‰²</button>
                </div>

                <div class="import-section">
                    <div class="import-title">
                        <svg class="icon-svg" viewBox="0 0 24 24" style="width:20px;height:20px;">
                            <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                            <circle cx="8.5" cy="8.5" r="1.5"></circle>
                            <polyline points="21 15 16 10 5 21"></polyline>
                        </svg>
                        ä»å›¾ç‰‡å¯¼å…¥è§’è‰²å¡
                    </div>
                    <div class="import-desc">
                        æ”¯æŒå¯¼å…¥å«æœ‰è§’è‰²å¡ä¿¡æ¯çš„å›¾ç‰‡ï¼ˆå¦‚SillyTavernå¤´åƒå¡ï¼‰ï¼Œå¯è‡ªåŠ¨è¯†åˆ«æˆ–æ‰‹åŠ¨é…ç½®è§’è‰²ä¿¡æ¯ã€‚
                    </div>
                    <div class="import-btn" id="import-image-btn">
                        <svg class="icon-svg" viewBox="0 0 24 24" style="width:20px;height:20px;">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        ç‚¹å‡»é€‰æ‹©å›¾ç‰‡
                    </div>
                    <input type="file" class="import-file-input" id="import-image-input" accept="image/*" multiple>
                </div>
                
                <div class="import-section">
                    <div class="import-title">
                        <svg class="icon-svg" viewBox="0 0 24 24" style="width:20px;height:20px;">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        è§’è‰²å¡æ ¼å¼è¯´æ˜
                    </div>
                    <div class="import-desc">
                        æ”¯æŒçš„JSONæ ¼å¼ï¼š<br>
                        â€¢ SillyTavern V2 æ ¼å¼ (spec: chara_card_v2)<br>
                        â€¢ SillyTavern V1 æ ¼å¼<br>
                        â€¢ ç®€å•æ ¼å¼ {name, description, first_mes}<br><br>
                        å¿…éœ€å­—æ®µï¼šnameï¼ˆè§’è‰²åç§°ï¼‰<br>
                        å¯é€‰å­—æ®µï¼šdescription, personality, first_mes, avatar, scenario, mes_example
                    </div>
                </div>
            </div>
        </div>

        <!-- å­é¡µé¢ - æœ‹å‹åœˆ -->
        <div class="sub-page" id="moments-page">
            <!-- é¡¶éƒ¨å¯¼èˆª - å…¨é€æ˜ -->
            <div class="moments-top-bar">
                <button class="back-btn moments-back-btn" data-back="moments-page">è¿”å›</button>
                <div class="moments-icon-group">
                    <button class="moments-icon-btn" id="notificationBtn">é€šçŸ¥</button>
                    <button class="moments-icon-btn" id="settingBtn">è®¾ç½®</button>
                </div>
            </div>
            <div class="sub-content" style="padding: 0; background: transparent; overflow-y: auto;">
                <style>
                    :root {
                        --bg-image: url('');
                        --bg-color: #ffffff;
                        --pixel-font: "Pixelify Sans", sans-serif;
                        --main-pink: #ff6b9d;
                        --light-pink: #ffccd5;
                        --soft-white: #fefefe;
                    }

                    /* é¡¶éƒ¨å¯¼èˆª - å…¨é€æ˜ */
                    #moments-page .moments-top-bar {
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        padding: 15px 18px;
                        position: sticky;
                        top: 0;
                        background: transparent;
                        z-index: 100;
                        box-shadow: none;
                        border: none;
                    }

                    #moments-page .moments-back-btn,
                    #moments-page .moments-icon-btn {
                        background: transparent;
                        border: none;
                        font-size: 15px;
                        cursor: pointer;
                        font-family: var(--pixel-font);
                        color: #555;
                        padding: 6px 12px;
                        border-radius: 6px;
                        transition: all 0.2s;
                    }

                    #moments-page .moments-back-btn:hover,
                    #moments-page .moments-icon-btn:hover {
                        background: var(--light-pink);
                        color: var(--main-pink);
                    }

                    #moments-page .moments-icon-group {
                        display: flex;
                        gap: 12px;
                    }

                    #moments-page .profile-section {
                        display: flex;
                        align-items: center;
                        padding: 15px 20px;
                        gap: 15px;
                        margin-bottom: 5px;
                    }

                    #moments-page .avatar {
                        width: 65px;
                        height: 65px;
                        border-radius: 50%;
                        border: 2px solid var(--light-pink);
                        cursor: pointer;
                        transition: transform 0.2s;
                        object-fit: cover;
                    }

                    #moments-page .avatar:hover {
                        transform: scale(1.05);
                    }

                    #moments-page .profile-info h2 {
                        font-size: 20px;
                        color: var(--main-pink);
                        text-shadow: 1px 1px 0 #fff;
                        cursor: pointer;
                        display: inline-block;
                        margin: 0;
                    }

                    #moments-page .profile-info h2:hover {
                        text-decoration: underline;
                    }

                    #moments-page .profile-info p {
                        font-size: 14px;
                        color: #999;
                        margin: 4px 0 0 0;
                    }

                    #moments-page .function-nav {
                        display: flex;
                        justify-content: space-around;
                        padding: 12px 0;
                        margin: 5px 10px;
                        background: transparent;
                    }

                    #moments-page .func-btn {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        gap: 4px;
                        text-decoration: none;
                        color: #333;
                        font-size: 14px;
                        font-weight: 500;
                        transition: color 0.2s;
                        cursor: pointer;
                        background: none;
                        border: none;
                    }

                    #moments-page .func-btn:hover {
                        color: var(--main-pink);
                    }

                    #moments-page .input-wrapper {
                        margin: 5px 10px;
                        padding: 10px;
                        background: transparent;
                        display: flex;
                        align-items: center;
                    }

                    #moments-page .input-wrapper input {
                        flex: 1;
                        border: none;
                        background: transparent;
                        font-family: var(--pixel-font);
                        font-size: 14px;
                        color: #666;
                        outline: none;
                        text-align: left;
                        padding-left: 0;
                        cursor: pointer;
                    }

                    #moments-page .input-wrapper input::placeholder {
                        color: #ccc;
                        text-align: left;
                    }

                    #moments-page .input-wrapper input:focus {
                        background-color: #f5f5f5;
                        border-radius: 4px;
                        padding: 4px 8px;
                    }

                    #moments-page .feed-list {
                        padding: 0 10px;
                        margin-top: 5px;
                    }

                    #moments-page .feed-item {
                        background: transparent;
                        padding: 12px;
                        margin-bottom: 12px;
                        border-bottom: 1px solid #f0f0f0;
                    }

                    #moments-page .feed-header {
                        display: flex;
                        align-items: center;
                        margin-bottom: 8px;
                        gap: 10px;
                    }

                    #moments-page .feed-avatar {
                        width: 35px;
                        height: 35px;
                        border-radius: 50%;
                        object-fit: cover;
                    }

                    #moments-page .feed-user-info {
                        display: flex;
                        flex-direction: column;
                        flex: 1;
                    }

                    #moments-page .feed-username {
                        font-size: 14px;
                        color: var(--main-pink);
                        font-weight: 500;
                    }

                    #moments-page .feed-content {
                        font-size: 14px;
                        line-height: 1.5;
                        margin-bottom: 10px;
                        padding-left: 45px;
                    }

                    #moments-page .feed-images {
                        padding-left: 45px;
                        display: flex;
                        flex-wrap: wrap;
                        gap: 8px;
                        margin-bottom: 10px;
                    }

                    #moments-page .feed-images img {
                        max-width: 150px;
                        max-height: 150px;
                        border-radius: 4px;
                        cursor: pointer;
                        object-fit: cover;
                    }

                    #moments-page .feed-actions {
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        gap: 15px;
                    }

                    #moments-page .action-btn {
                        background: transparent;
                        border: none;
                        font-size: 14px;
                        cursor: pointer;
                        font-family: var(--pixel-font);
                        color: #666;
                        transition: color 0.2s;
                    }

                    #moments-page .action-btn:hover {
                        color: var(--main-pink);
                    }

                    #moments-page .feed-time {
                        font-size: 12px;
                        color: #999;
                    }

                    #moments-page .comment-input {
                        display: flex;
                        align-items: center;
                        gap: 8px;
                        margin-top: 12px;
                        padding: 8px 0 0 0;
                        padding-left: 45px;
                    }

                    #moments-page .comment-avatar {
                        width: 28px;
                        height: 28px;
                        border-radius: 50%;
                        cursor: pointer;
                        transition: transform 0.2s;
                        object-fit: cover;
                    }

                    #moments-page .comment-avatar:hover {
                        transform: scale(1.05);
                    }

                    #moments-page .comment-input input {
                        flex: 1;
                        border: none;
                        background: transparent;
                        font-family: var(--pixel-font);
                        font-size: 13px;
                        color: #666;
                        padding: 6px 0;
                        outline: none;
                    }

                    #moments-page .comment-input input::placeholder {
                        color: #ccc;
                    }

                    #moments-page .comment-input input:focus {
                        background-color: #f5f5f5;
                        border-radius: 4px;
                        padding: 4px 8px;
                    }

                    #moments-page .modal {
                        display: none;
                        position: fixed;
                        z-index: 200;
                        left: 0;
                        top: 0;
                        width: 100%;
                        height: 100%;
                        background-color: rgba(0, 0, 0, 0.5);
                    }

                    #moments-page .modal.show {
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    #moments-page .modal-content {
                        background-color: #fff;
                        padding: 20px;
                        border-radius: 8px;
                        max-width: 500px;
                        width: 90%;
                        max-height: 80vh;
                        overflow-y: auto;
                        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    }

                    #moments-page .modal-header {
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        margin-bottom: 15px;
                        border-bottom: 1px solid #f0f0f0;
                        padding-bottom: 10px;
                    }

                    #moments-page .modal-header h3 {
                        font-size: 18px;
                        color: var(--main-pink);
                        margin: 0;
                    }

                    #moments-page .close-btn {
                        background: none;
                        border: none;
                        font-size: 28px;
                        cursor: pointer;
                        color: #999;
                        transition: color 0.2s;
                    }

                    #moments-page .close-btn:hover {
                        color: var(--main-pink);
                    }

                    #moments-page .modal-body {
                        margin-bottom: 15px;
                    }

                    #moments-page #momentText {
                        width: 100%;
                        min-height: 100px;
                        padding: 10px;
                        border: 1px solid #ddd;
                        border-radius: 4px;
                        font-family: var(--pixel-font);
                        font-size: 14px;
                        resize: vertical;
                        margin-bottom: 10px;
                    }

                    #moments-page #momentText:focus {
                        outline: none;
                        border-color: var(--main-pink);
                    }

                    #moments-page .image-preview {
                        display: flex;
                        flex-wrap: wrap;
                        gap: 10px;
                        margin-bottom: 10px;
                        min-height: 20px;
                    }

                    #moments-page .image-preview>div {
                        position: relative;
                        display: inline-block;
                    }

                    #moments-page .image-preview img {
                        max-width: 100px;
                        max-height: 100px;
                        border-radius: 4px;
                        object-fit: cover;
                    }

                    #moments-page .remove-btn {
                        position: absolute;
                        top: -8px;
                        right: -8px;
                        background: var(--main-pink);
                        color: white;
                        border: none;
                        border-radius: 50%;
                        width: 24px;
                        height: 24px;
                        cursor: pointer;
                        font-size: 16px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        padding: 0;
                    }

                    #moments-page .group-select {
                        margin-bottom: 15px;
                    }

                    #moments-page .group-select label {
                        display: block;
                        margin-bottom: 5px;
                        font-size: 14px;
                        color: #333;
                    }

                    #moments-page #groupSelect {
                        width: 100%;
                        padding: 8px;
                        border: 1px solid #ddd;
                        border-radius: 4px;
                        font-family: var(--pixel-font);
                        font-size: 14px;
                    }

                    #moments-page #groupSelect:focus {
                        outline: none;
                        border-color: var(--main-pink);
                    }

                    #moments-page .modal-actions {
                        display: flex;
                        gap: 10px;
                        justify-content: flex-end;
                    }

                    #moments-page .submit-btn {
                        background: var(--main-pink);
                        color: white;
                        border: none;
                        padding: 8px 16px;
                        border-radius: 4px;
                        cursor: pointer;
                        font-family: var(--pixel-font);
                        font-size: 14px;
                        transition: all 0.2s;
                    }

                    #moments-page .submit-btn:hover {
                        background: #ff5a8b;
                    }

                    #moments-page .upload-btn {
                        background: white;
                        color: var(--main-pink);
                        border: 1px solid var(--main-pink);
                        padding: 8px 16px;
                        border-radius: 4px;
                        cursor: pointer;
                        font-family: var(--pixel-font);
                        font-size: 14px;
                        transition: all 0.2s;
                    }

                    #moments-page .upload-btn:hover {
                        background: var(--light-pink);
                    }

                    #moments-page .notification-item {
                        padding: 10px;
                        margin-bottom: 10px;
                        background: #f9f9f9;
                        border-radius: 4px;
                        border-left: 3px solid var(--main-pink);
                    }

                    #moments-page .notification-header {
                        display: flex;
                        justify-content: space-between;
                        margin-bottom: 5px;
                    }

                    #moments-page .notification-user {
                        color: var(--main-pink);
                        font-weight: 500;
                    }

                    #moments-page .notification-time {
                        color: #999;
                        font-size: 12px;
                    }

                    #moments-page .notification-text {
                        color: #333;
                        font-size: 13px;
                        line-height: 1.4;
                    }

                    #moments-page .more-options {
                        display: flex;
                        flex-direction: column;
                        gap: 10px;
                    }

                    #moments-page .option-btn {
                        padding: 12px;
                        border: 1px solid var(--light-pink);
                        background: white;
                        color: var(--main-pink);
                        border-radius: 4px;
                        cursor: pointer;
                        font-family: var(--pixel-font);
                        font-size: 14px;
                        transition: all 0.2s;
                    }

                    #moments-page .option-btn:hover {
                        background: var(--light-pink);
                        border-color: var(--main-pink);
                    }

                    #moments-page .character-select {
                        margin-bottom: 15px;
                    }

                    #moments-page .character-select label {
                        display: block;
                        margin-bottom: 5px;
                        font-size: 14px;
                        color: #333;
                    }

                    #moments-page #characterSelect {
                        width: 100%;
                        padding: 8px;
                        border: 1px solid #ddd;
                        border-radius: 4px;
                        font-family: var(--pixel-font);
                        font-size: 14px;
                    }

                    #moments-page #characterSelect:focus {
                        outline: none;
                        border-color: var(--main-pink);
                    }

                    #moments-page .character-moment-options {
                        margin-bottom: 15px;
                    }

                    #moments-page .character-moment-options label {
                        display: flex;
                        align-items: center;
                        gap: 8px;
                        margin-bottom: 10px;
                        cursor: pointer;
                        font-size: 14px;
                    }

                    #moments-page #characterMomentText {
                        width: 100%;
                        min-height: 80px;
                        padding: 10px;
                        border: 1px solid #ddd;
                        border-radius: 4px;
                        font-family: var(--pixel-font);
                        font-size: 14px;
                        resize: vertical;
                        margin-bottom: 10px;
                    }

                    #moments-page .auto-setting {
                        display: flex;
                        flex-direction: column;
                        gap: 12px;
                    }

                    #moments-page .auto-setting label {
                        display: flex;
                        align-items: center;
                        gap: 8px;
                        font-size: 14px;
                    }

                    #moments-page .auto-setting input[type="number"] {
                        width: 60px;
                        padding: 4px 8px;
                        border: 1px solid #ddd;
                        border-radius: 4px;
                        font-family: var(--pixel-font);
                    }

                    #moments-page .comment-thread {
                        max-height: 300px;
                        overflow-y: auto;
                        margin-bottom: 15px;
                        padding: 10px;
                        background: #f9f9f9;
                        border-radius: 4px;
                    }

                    #moments-page .comments-section {
                        margin-top: 12px;
                        padding-left: 45px;
                        padding-top: 8px;
                        border-top: 1px solid #f0f0f0;
                    }

                    #moments-page .comment-item {
                        margin-bottom: 10px;
                        padding: 8px;
                        background: #f9f9f9;
                        border-radius: 4px;
                        font-size: 13px;
                    }

                    #moments-page .comment-header {
                        display: flex;
                        align-items: center;
                        gap: 4px;
                        margin-bottom: 4px;
                    }

                    #moments-page .comment-user {
                        color: var(--main-pink);
                        font-weight: 500;
                    }

                    #moments-page .comment-delete-btn {
                        color: #bbb;
                        background: none;
                        border: none;
                        cursor: pointer;
                        font-family: var(--pixel-font);
                        font-size: 12px;
                        padding: 0 2px;
                        transition: color 0.2s;
                        line-height: 1;
                    }

                    #moments-page .comment-delete-btn:hover {
                        color: #999;
                    }

                    #moments-page .comment-text {
                        color: #333;
                        line-height: 1.4;
                        margin-top: 4px;
                    }

                    #moments-page .comment-input-box {
                        display: flex;
                        flex-direction: column;
                        gap: 10px;
                    }

                    #moments-page #commentInputText {
                        width: 100%;
                        min-height: 60px;
                        padding: 10px;
                        border: 1px solid #ddd;
                        border-radius: 4px;
                        font-family: var(--pixel-font);
                        font-size: 13px;
                        resize: vertical;
                    }

                    #moments-page #commentInputText:focus {
                        outline: none;
                        border-color: var(--main-pink);
                    }

                    #moments-page .icon-group {
                        display: flex;
                        gap: 12px;
                    }

                    .icon-btn {
                        background: transparent;
                        border: none;
                        font-size: 14px;
                        cursor: pointer;
                        color: #555;
                        padding: 6px 12px;
                        border-radius: 6px;
                        transition: all 0.2s;
                        font-family: var(--pixel-font);
                    }

                    .icon-btn:hover {
                        background: var(--light-pink);
                        color: var(--main-pink);
                    }
                </style>

                <!-- ä¸ªäººä¿¡æ¯ -->
                <div class="profile-section">
                    <img src="" alt="å¤´åƒ" class="avatar" id="profileAvatar" onclick="document.getElementById('profileAvatarInput').click()">
                    <input type="file" id="profileAvatarInput" accept="image/*" style="display:none;" onchange="changeProfileAvatar(this)">
                    <div class="profile-info">
                        <h2 id="profileName">ç”¨æˆ·å</h2>
                        <p>è®¿å®¢æ€»é‡ <span id="visitorCount">0</span></p>
                    </div>
                </div>

                <!-- åŠŸèƒ½å¯¼èˆª -->
                <div class="function-nav">
                    <button class="func-btn" data-tab="moments">è¯´è¯´</button>
                    <button class="func-btn" data-tab="log">æ—¥å¿—</button>
                    <button class="func-btn" data-tab="photos">ç›¸å†Œ</button>
                    <button class="func-btn" data-tab="message">ç•™è¨€</button>
                    <button class="func-btn" data-tab="more">æ›´å¤š</button>
                </div>

                <!-- è¯´è¯´è¾“å…¥æ¡† -->
                <div class="input-wrapper">
                    <input type="text" id="momentInput" placeholder="åˆ†äº«æ–°é²œäº‹..." readonly onclick="openMomentDialog()">
                </div>

                <!-- è¯´è¯´åˆ—è¡¨ -->
                <div class="feed-list" id="feedList">
                    <!-- åŠ¨æ€å†…å®¹å°†åœ¨è¿™é‡Œæ’å…¥ -->
                </div>

                <!-- å‘å¸ƒæœ‹å‹åœˆå¯¹è¯æ¡† -->
                <div class="modal" id="momentModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>å‘å¸ƒæœ‹å‹åœˆ</h3>
                            <button class="close-btn" onclick="closeMomentDialog()">Ã—</button>
                        </div>
                        <div class="modal-body">
                            <!-- æ–‡å­—è¾“å…¥ -->
                            <textarea id="momentText" placeholder="è¯´è¯´ä½ çš„æƒ³æ³•..."></textarea>
                            
                            <!-- å›¾ç‰‡é¢„è§ˆ -->
                            <div id="imagePreview" class="image-preview">
                                <!-- å›¾ç‰‡å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                            </div>
                            
                            <!-- å¥½å‹åˆ†ç»„é€‰æ‹© -->
                            <div class="group-select">
                                <label>åˆ†ç»„å¯è§ï¼š</label>
                                <select id="groupSelect">
                                    <!-- é€‰é¡¹å°†åŠ¨æ€ç”Ÿæˆ -->
                                </select>
                            </div>
                            
                            <!-- æŒ‰é’®åŒº -->
                            <div class="modal-actions">
                                <button class="upload-btn" onclick="document.getElementById('imageInput').click()">
                                    ğŸ“· æ·»åŠ å›¾ç‰‡
                                </button>
                                <input type="file" id="imageInput" accept="image/*" multiple style="display:none;" onchange="handleImageSelect(this)">
                                <button class="submit-btn" onclick="publishMoment()">å‘å¸ƒ</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è®¾ç½®èƒŒæ™¯å¯¹è¯æ¡† -->
                <input type="file" id="bgFileInput" accept="image/*" onchange="changeBackground(this)" style="display:none;">

                <!-- é€šçŸ¥å¯¹è¯æ¡† -->
                <div class="modal" id="notificationModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>æœ‹å‹åœˆé€šçŸ¥</h3>
                            <button class="close-btn" onclick="closeNotificationModal()">Ã—</button>
                        </div>
                        <div class="modal-body" id="notificationList">
                            <!-- æœªè¯»æ¶ˆæ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                        </div>
                    </div>
                </div>

                <!-- æ›´å¤šé€‰é¡¹å¯¹è¯æ¡† -->
                <div class="modal" id="moreModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>æ›´å¤šé€‰é¡¹</h3>
                            <button class="close-btn" onclick="closeMoreModal()">Ã—</button>
                        </div>
                        <div class="modal-body">
                            <div class="more-options">
                                <button class="option-btn" onclick="openCharacterMomentsDialog()">
                                    è§’è‰²å‘å¸ƒæœ‹å‹åœˆ
                                </button>
                                <button class="option-btn" onclick="openAutoMomentsDialog()">
                                    è‡ªåŠ¨ç”Ÿæˆæœ‹å‹åœˆ
                                </button>
                                <button class="option-btn" onclick="openAutoReplyDialog()">
                                    è‡ªåŠ¨è¯„è®ºè®¾ç½®
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è§’è‰²å‘å¸ƒæœ‹å‹åœˆå¯¹è¯æ¡† -->
                <div class="modal" id="characterMomentsModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>è§’è‰²å‘å¸ƒæœ‹å‹åœˆ</h3>
                            <button class="close-btn" onclick="closeCharacterMomentsDialog()">Ã—</button>
                        </div>
                        <div class="modal-body">
                            <div class="character-select">
                                <label>é€‰æ‹©è§’è‰²ï¼š</label>
                                <select id="characterSelect">
                                    <!-- é€‰é¡¹å°†åŠ¨æ€ç”Ÿæˆ -->
                                </select>
                            </div>
                            <div class="character-moment-options">
                                <label>
                                    <input type="radio" name="charMomentType" value="auto" checked> è‡ªåŠ¨ç”Ÿæˆï¼ˆAIï¼‰
                                </label>
                                <label>
                                    <input type="radio" name="charMomentType" value="manual"> è‡ªå®šä¹‰è¾“å…¥
                                </label>
                            </div>
                            <textarea id="characterMomentText" placeholder="è¾“å…¥æœ‹å‹åœˆå†…å®¹..." style="display:none;"></textarea>
                            <div class="modal-actions">
                                <button class="submit-btn" onclick="publishCharacterMoment()">å‘å¸ƒ</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è‡ªåŠ¨ç”Ÿæˆæœ‹å‹åœˆå¯¹è¯æ¡† -->
                <div class="modal" id="autoMomentsModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>è‡ªåŠ¨ç”Ÿæˆæœ‹å‹åœˆ</h3>
                            <button class="close-btn" onclick="closeAutoMomentsDialog()">Ã—</button>
                        </div>
                        <div class="modal-body">
                            <div class="auto-setting">
                                <label>æ¯<input type="number" id="autoInterval" min="1" max="120" value="30"> åˆ†é’Ÿ</label>
                                <label>éšæœº<input type="number" id="autoRandomCount" min="1" max="5" value="1"> æ¡</label>
                                <label>
                                    <input type="checkbox" id="autoEnabled"> å¯ç”¨è‡ªåŠ¨ç”Ÿæˆ
                                </label>
                            </div>
                            <div class="modal-actions" style="margin-top:15px;">
                                <button class="submit-btn" onclick="saveAutoMomentSettings()">ä¿å­˜</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è‡ªåŠ¨å›å¤è®¾ç½®å¯¹è¯æ¡† -->
                <div class="modal" id="autoReplyModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>è‡ªåŠ¨å›å¤è®¾ç½®</h3>
                            <button class="close-btn" onclick="closeAutoReplyDialog()">Ã—</button>
                        </div>
                        <div class="modal-body">
                            <label>
                                <input type="checkbox" id="autoReplyEnabled"> å¯ç”¨è‡ªåŠ¨å›å¤
                            </label>
                            <div class="modal-actions" style="margin-top:15px;">
                                <button class="submit-btn" onclick="saveAutoReplySettings()">ä¿å­˜</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è¯„è®º/å›å¤å¯¹è¯æ¡† -->
                <div class="modal" id="commentModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>è¯„è®º</h3>
                            <button class="close-btn" onclick="closeCommentModal()">Ã—</button>
                        </div>
                        <div class="modal-body">
                            <div class="comment-thread" id="commentThread">
                                <!-- è¯„è®ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                            </div>
                            <div class="comment-input-box">
                                <textarea id="commentInputText" placeholder="è¾“å…¥è¯„è®º..."></textarea>
                                <button class="submit-btn" onclick="submitComment()">å‘é€</button>
                            </div>
                        </div>
                    </div>
                </div>

                <script src="moments.js"></script>
            </div>
        </div>

        <!-- å­é¡µé¢ - è®ºå› -->
        <div class="sub-page" id="forum-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="forum-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">è®ºå›</div>
            </div>
            <div class="sub-content">
                <div class="placeholder-text">
                    ã€è®ºå›åŠŸèƒ½å¼€å‘ä¸­ã€‘
                </div>
            </div>
        </div>

                <!-- å­é¡µé¢ - é˜…è¯» -->
        <div class="sub-page" id="reading-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="reading-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">é˜…è¯»</div>
            </div>
            <div class="sub-content">
                <div class="placeholder-text">
                    ã€é˜…è¯»åŠŸèƒ½å¼€å‘ä¸­ã€‘
                </div>
            </div>
        </div>

        <!-- å­é¡µé¢ - æ—¥å† -->
        <div class="sub-page" id="calendar-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="calendar-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">æ—¥å†</div>
            </div>
            <div class="sub-content">
                <div class="placeholder-text">
                    ã€æ—¥å†åŠŸèƒ½å¼€å‘ä¸­ã€‘
                </div>
            </div>
        </div>

        <!-- å¤©æ°”é¡µé¢ -->
<div class="sub-page" id="weather-page">
    <div class="sub-nav">
        <div class="back-btn" data-back="weather-page">
            <div class="back-arrow"></div>
            <span>è¿”å›</span>
        </div>
        <div class="sub-title">å¤©æ°”</div>
    </div>
    <div class="sub-content">
        <div class="placeholder-text">
            ã€å¤©æ°”åŠŸèƒ½å¼€å‘ä¸­ã€‘
        </div>
    </div>
</div>


        <!-- è´­ç‰©é¡µé¢ -->
<div class="sub-page" id="shopping-page">
    <div class="sub-nav">
        <div class="back-btn" data-back="shopping-page">
            <div class="back-arrow"></div>
            <span>è¿”å›</span>
        </div>
        <div class="sub-title">è´­ç‰©</div>
    </div>
    <div class="sub-content">
        <div class="placeholder-text">
            ã€è´­ç‰©åŠŸèƒ½å¼€å‘ä¸­ã€‘
        </div>
    </div>
</div>

        <!-- å­é¡µé¢ - æ¸¸æˆä¸­å¿ƒ -->
        <div class="sub-page" id="game-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="game-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">æ¸¸æˆä¸­å¿ƒ</div>
            </div>
            <div class="sub-content">
                <div class="placeholder-text">
                    ã€æ¸¸æˆä¸­å¿ƒå¼€å‘ä¸­ã€‘
                </div>
            </div>
        </div>

        <!-- å­é¡µé¢ - é»˜å¥‘å¤§æŒ‘æˆ˜ -->
        <div class="sub-page" id="tacit-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="tacit-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">é»˜å¥‘å¤§æŒ‘æˆ˜</div>
            </div>
            <div class="sub-content">
                <div class="placeholder-text">
                    ç­‰å¾…å¼€å‘ä¸­
                </div>
            </div>
        </div>

        <!-- å­é¡µé¢ - å¿ƒçµæ˜Ÿç³» -->
        <div class="sub-page" id="spirit-galaxy-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="spirit-galaxy-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">å¿ƒçµæ˜Ÿç³»</div>
            </div>
            <div class="sub-content">
                <div class="placeholder-text">
                    ç­‰å¾…å¼€å‘ä¸­
                </div>
            </div>
        </div>

        <!-- å­é¡µé¢ - çµæ„Ÿåº“ -->
        <div class="sub-page" id="idea-library-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="idea-library-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">çµæ„Ÿåº“</div>
            </div>
            <div class="sub-content">
                <div class="placeholder-text">
                    ç­‰å¾…å¼€å‘ä¸­
                </div>
            </div>
        </div>

        <!-- å­é¡µé¢ - è§‚å¯Ÿè€… -->
        <div class="sub-page" id="third-party-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="third-party-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">è§‚å¯Ÿè€…</div>
            </div>
            <div class="sub-content">
                <div class="placeholder-text">
                    ç­‰å¾…å¼€å‘ä¸­
                </div>
            </div>
        </div>

        <!-- å­é¡µé¢ - APIè®¾ç½® -->
        <div class="sub-page" id="api-settings-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="api-settings-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">APIè®¾ç½®</div>
            </div>
            <div class="sub-content" style="padding: 0; background-color: #fff; overflow-y: auto; max-height: 100%;">
                <div class="api-settings-container" style="padding:16px;">
                    <!-- ä¸»APIè®¾ç½® -->
                    <div style="margin-bottom:24px;padding-bottom:20px;border-bottom:2px solid #f0f0f0;">
                        <h3 style="margin:0 0 16px 0;font-size:16px;color:#333;font-weight:600;">ä¸»APIè®¾ç½®</h3>
                        
                        <div class="setting-row">
                            <label class="setting-label">API ç«¯ç‚¹ (Endpoint)</label>
                            <input id="api-endpoint" class="setting-input" placeholder="ä¾‹å¦‚ https://api.openai.com æˆ– è‡ªå»ºä»£ç†ç«¯ç‚¹">
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">API å¯†é’¥ (Key)</label>
                            <div style="display:flex;gap:8px;align-items:center;">
                                <input id="api-key" class="setting-input" type="password" placeholder="åœ¨æ­¤å¤„å¡«å†™ Bearer Keyï¼ˆå¯é€‰ï¼‰" style="flex:1;">
                                <button id="api-key-toggle" class="small-btn" style="flex-shrink:0;padding:6px 12px;height:36px;">æ˜¾ç¤º</button>
                            </div>
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">æ‹‰å–æ¨¡å‹</label>
                            <button id="pull-models-btn" class="small-btn">æ‹‰å–æ¨¡å‹</button>
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">æ¨¡å‹åç§°</label>
                            <select id="models-select" class="models-select" style="height:44px;margin-top:8px;"></select>
                            <div style="margin-top:8px;color:#666;font-size:13px;">ç›®å‰ä¿å­˜çš„æ¨¡å‹ï¼š<span id="selected-model-display">æœªé€‰æ‹©</span></div>
                        </div>
                    </div>
                    
                    <!-- å‰¯APIè®¾ç½® -->
                    <div style="margin-bottom:24px;padding-bottom:20px;border-bottom:2px solid #f0f0f0;">
                        <h3 style="margin:0 0 16px 0;font-size:16px;color:#333;font-weight:600;">å‰¯APIè®¾ç½®ï¼ˆç”¨äºç¿»è¯‘ã€æ€»ç»“ç­‰ï¼‰</h3>
                        
                        <div class="setting-row">
                            <label class="setting-label">å‰¯API ç«¯ç‚¹ (Endpoint)</label>
                            <input id="secondary-api-endpoint" class="setting-input" placeholder="ä¾‹å¦‚ https://api.example.comï¼ˆå¯é€‰ï¼‰">
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">å‰¯API å¯†é’¥ (Key)</label>
                            <div style="display:flex;gap:8px;align-items:center;">
                                <input id="secondary-api-key" class="setting-input" type="password" placeholder="å‰¯APIå¯†é’¥ï¼ˆå¯é€‰ï¼‰" style="flex:1;">
                                <button id="secondary-api-key-toggle" class="small-btn" style="flex-shrink:0;padding:6px 12px;height:36px;">æ˜¾ç¤º</button>
                            </div>
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">æ‹‰å–æ¨¡å‹</label>
                            <button id="pull-secondary-models-btn" class="small-btn">æ‹‰å–æ¨¡å‹</button>
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">æ¨¡å‹åç§°</label>
                            <select id="secondary-models-select" class="models-select" style="height:44px;margin-top:8px;"></select>
                            <div style="margin-top:8px;color:#666;font-size:13px;">ç›®å‰ä¿å­˜çš„æ¨¡å‹ï¼š<span id="secondary-selected-model-display">æœªé€‰æ‹©</span></div>
                        </div>
                    </div>

                    <!-- å…¶ä»–è®¾ç½® -->
                    <div style="margin-bottom:24px;padding-bottom:20px;border-bottom:2px solid #f0f0f0;">
                        <h3 style="margin:0 0 16px 0;font-size:16px;color:#333;font-weight:600;">å…¶ä»–è®¾ç½®</h3>
                        
                        <div class="setting-row">
                            <label class="setting-label">AI æ—¶é—´æ„ŸçŸ¥</label>
                            <div style="display:flex;align-items:center;gap:10px;">
                                <input type="checkbox" id="ai-time-aware">
                                <div style="color:#666;font-size:13px;">å¼€å¯åä¼šå°†å½“å‰æ—¶é—´ä¿¡æ¯ä½œä¸º system æŒ‡ä»¤å‘é€</div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">API ä¸Šä¸‹æ–‡æ¡æ•°</label>
                            <div style="display:flex;gap:8px;align-items:center;">
                                <input id="context-lines-input" type="number" placeholder="200" value="200" min="1" max="10000" style="width:100px;padding:8px;border:1px solid #ddd;border-radius:4px;font-size:13px;">
                                <div style="color:#666;font-size:13px;">æ¡æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡ï¼ˆé»˜è®¤200ï¼‰</div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-row" style="margin-top:24px;border-top:1px solid #f0f0f0;padding-top:16px;">
                        <label class="setting-label">API é¢„è®¾ç®¡ç†</label>
                        <button id="api-preset-btn" class="small-btn" style="width:100%;">é¢„è®¾ç®¡ç†</button>
                    </div>

                    <div class="setting-row" style="margin-top:16px;border-top:1px solid #f0f0f0;padding-top:16px;">
                        <label class="setting-label">æç¤ºè¯ç®¡ç†</label>
                        <div style="display:flex;gap:8px;margin-top:8px;">
                            <button id="add-prompt-btn" class="small-btn">æ–°å¢æç¤ºè¯</button>
                            <button id="prompt-list-btn" class="small-btn">æŸ¥çœ‹æç¤ºè¯åˆ—è¡¨</button>
                        </div>
                    </div>

                    <div class="setting-row">
                        <label class="setting-label">å½“å‰æç¤ºè¯</label>
                        <select id="prompts-select" class="models-select" style="margin-top:8px;"></select>
                        <div id="current-prompt-display" style="margin-top:8px;padding:8px;background:#f9f9f9;border-radius:4px;max-height:150px;overflow-y:auto;white-space:pre-wrap;word-wrap:break-word;font-size:12px;color:#666;font-family:monospace;"></div>
                    </div>

                    <div class="setting-row" style="margin-top:18px;">
                        <button id="save-settings-btn" class="primary-btn">ä¿å­˜è®¾ç½®</button>
                    </div>

                    <div style="margin-top:12px;color:#888;font-size:13px;">
                        ä½¿ç”¨è¯´æ˜ï¼šå¡«å†™ç«¯ç‚¹ä¸ï¼ˆå¯é€‰ï¼‰å¯†é’¥ï¼Œç‚¹å‡»â€œæ‹‰å–æ¨¡å‹â€è·å–æ¨¡å‹åˆ—è¡¨ã€‚åŒå‡»é¡¶éƒ¨ç”¨æˆ·å¤´åƒæˆ–èŠå¤©å¤´åƒå³å¯å°†å½“å‰ä¼šè¯å†…å®¹å‘é€åˆ°æ‰€é€‰æ¨¡å‹å¹¶è·å–å›å¤ã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- å­é¡µé¢ - æƒ…ä¾£ç©ºé—´ -->
        <div class="sub-page" id="couples-space-page">
            <div class="sub-nav">
                <div class="back-btn" id="couples-space-back-btn">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">æƒ…ä¾£ç©ºé—´</div>
            </div>
            <div class="sub-content" style="padding: 16px; background-color: #f5f5f5;overflow-y:auto;">
                <div id="couples-space-content" style="background: #fff; border-radius: 8px; padding: 40px 20px; text-align: center;">
                    <div style="color:#999;font-size:16px;">åŠŸèƒ½å¼€å‘ä¸­...</div>
                </div>
            </div>
        </div>

        <!-- å­é¡µé¢ - ä¸–ç•Œä¹¦ -->
        <div class="sub-page" id="worldbook-page">
            <div class="sub-nav">
                <div class="back-btn" data-back="worldbook-page">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">ä¸–ç•Œä¹¦</div>
            </div>
            <div class="sub-content" style="padding: 16px; background-color: #fff;">
                <div style="display:flex;gap:8px;margin-bottom:16px;">
                    <button id="worldbook-add-btn" style="flex:1;padding:10px;background:#000;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:13px;font-weight:500;">æ–°å¢ä¸–ç•Œä¹¦</button>
                    <button id="worldbook-import-btn" style="flex:1;padding:10px;border:1px solid #ddd;background:#fff;color:#000;border-radius:4px;cursor:pointer;font-size:13px;font-weight:500;">å¯¼å…¥ä¸–ç•Œä¹¦</button>
                    <input type="file" id="worldbook-import-input" accept=".json" multiple style="display:none;">
                </div>
                
                <!-- å…¨å±€ä¸–ç•Œä¹¦ -->
                <div style="margin-bottom:20px;">
                    <div style="font-weight:600;color:#333;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #e8e8e8;">å…¨å±€ä¸–ç•Œä¹¦</div>
                    <div id="global-worldbooks-list" style="display:flex;flex-direction:column;gap:8px;">
                        <div style="text-align:center;color:#999;padding:20px;background:#f9f9f9;border-radius:4px;font-size:13px;">æš‚æ— å…¨å±€ä¸–ç•Œä¹¦</div>
                    </div>
                </div>
                
                <!-- å±€éƒ¨ä¸–ç•Œä¹¦ -->
                <div>
                    <div style="font-weight:600;color:#333;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #e8e8e8;">å±€éƒ¨ä¸–ç•Œä¹¦ï¼ˆéœ€ç»‘å®šåˆ°è§’è‰²ï¼‰</div>
                    <div id="local-worldbooks-list" style="display:flex;flex-direction:column;gap:8px;">
                        <div style="text-align:center;color:#999;padding:20px;background:#f9f9f9;border-radius:4px;font-size:13px;">æš‚æ— å±€éƒ¨ä¸–ç•Œä¹¦</div>
                    </div>
                </div>
            </div>

        </div>

        <!-- èŠå¤©é¡µé¢ -->
        <div class="chat-page" id="chat-page">
            <div class="chat-nav">
                <div class="back-btn" id="chat-back-btn">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="chat-title-area" style="flex:1;position:relative;display:flex;align-items:center;justify-content:center;">
                    <div class="chat-title" id="chat-title">AIå°åŠ©æ‰‹</div>
                    <div class="chat-typing-status" id="chat-typing-status" style="font-size:13px;color:#999;display:none;white-space:nowrap;">æ­£åœ¨æ‰“å­—ä¸­...</div>
                </div>
                <div class="chat-toolbar-buttons" style="display:flex;gap:0;align-items:center;">
                    <button id="chat-mind-btn" style="width:40px;height:40px;border:none;background:none;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center;font-size:20px;">
                        ğŸ–¤
                    </button>
                    <div class="chat-more">
                        <div class="chat-more-dots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chat-messages" id="chat-messages"></div>
            
            <div class="quote-message-bar-container" id="quote-message-bar-container" style="display:none;background:#f5f5f5;border-bottom:1px solid #e0e0e0;">
                <div class="quote-message-bar" id="quote-message-bar" style="padding:8px 12px;display:flex;align-items:center;gap:8px;min-height:40px;max-height:60px;overflow-y:auto;">
                    <div class="quote-content" id="quote-content" style="flex:1;font-size:12px;color:#666;word-break:break-word;line-height:1.4;"></div>
                    <button class="quote-cancel-btn" id="quote-cancel-btn" style="border:none;background:none;cursor:pointer;font-size:20px;color:#999;flex-shrink:0;padding:0;min-width:24px;height:24px;display:flex;align-items:center;justify-content:center;">Ã—</button>
                </div>
            </div>

            <div class="chat-toolbar" id="chat-toolbar">
                <button class="tb-btn" id="btn-retry" title="é‡å›">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36M20.49 15a9 9 0 0 1-14.85 3.36"></path></svg>
                </button>
                <button class="tb-btn" id="btn-emoji" title="è¡¨æƒ…åŒ…">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><circle cx="9" cy="9" r="1"></circle><circle cx="15" cy="9" r="1"></circle></svg>
                </button>
                <button class="tb-btn" id="btn-voice-msg" title="è¯­éŸ³æ¡">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><path d="M12 1a4 4 0 0 0-4 4v7a4 4 0 0 0 8 0V5a4 4 0 0 0-4-4z"></path><path d="M8 19a6 6 0 0 0 8 0"></path><line x1="12" y1="19" x2="12" y2="23"></line></svg>
                </button>
                <button class="tb-btn" id="btn-camera" title="æ‹ç…§">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><path d="M23 19V5a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2z"></path><circle cx="12" cy="13" r="4"></circle></svg>
                </button>
                <button class="tb-btn" id="btn-photo" title="ç…§ç‰‡">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
                </button>
                <button class="tb-btn" id="btn-location" title="åœ°ç†ä½ç½®">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                </button>
                <button class="tb-btn" id="btn-voicecall" title="è¯­éŸ³é€šè¯">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                </button>
                <button class="tb-btn" id="btn-videocall" title="è§†é¢‘é€šè¯">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg>
                </button>
                <button class="tb-btn" id="btn-offline" title="çº¿ä¸‹åŠŸèƒ½">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><polyline points="12 5 12 19"></polyline><polyline points="19 12 12 19 5 12"></polyline></svg>
                </button>
                <button class="tb-btn" id="btn-takeout" title="ç‚¹å¤–å–">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
                </button>
                <button class="tb-btn" id="btn-transfer" title="è½¬è´¦">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><circle cx="12" cy="12" r="8"></circle><path d="M12 7v10M10 8c-1 0-2 1-2 2s1 2 2 2h4c1 0 2 1 2 2s-1 2-2 2M14 16c1 0 2-1 2-2"></path></svg>
                </button>
                <button class="tb-btn" id="btn-listen" title="ä¸€èµ·å¬">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><path d="M5 10c0-3 2-5 4-5s3 1 3 4"></path><path d="M19 10c0-3-2-5-4-5s-3 1-3 4"></path><circle cx="6" cy="14" r="2.5"></circle><circle cx="18" cy="14" r="2.5"></circle><path d="M12 9v4M12 13l-1 5c0 1-1 2-2 2M12 13l1 5c0 1 1 2 2 2"></path></svg>
                </button>
                <button class="tb-btn" id="btn-phone" title="æŸ¥æ‰‹æœº">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><rect x="5" y="2" width="14" height="20" rx="2.5" ry="2.5"></rect><path d="M12 21h0"></path></svg>
                </button>
                <button class="tb-btn" id="btn-frog" title="æ—…è¡Œé’è›™">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><ellipse cx="12" cy="12" rx="8" ry="6"></ellipse><circle cx="7" cy="10" r="1.5" fill="#666"></circle><circle cx="17" cy="10" r="1.5" fill="#666"></circle><path d="M9 16c3 1 6 1 6 0"></path><path d="M4 8l-2-1M20 8l2-1"></path></svg>
                </button>
                <button class="tb-btn" id="btn-anonymous" title="åŒ¿åæé—®">
                    <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><rect x="3" y="3" width="18" height="18" rx="2"></rect><line x1="9" y1="9" x2="15" y2="9"></line><line x1="9" y1="13" x2="15" y2="13"></line><line x1="9" y1="17" x2="13" y2="17"></line></svg>
                </button>
                <input type="file" id="toolbar-file-input" accept="image/*" style="display:none">
            </div>

            <div class="chat-input-area">
                <textarea class="chat-input" id="chat-input" placeholder="è¾“å…¥æ¶ˆæ¯..." rows="1"></textarea>
                <button class="chat-send-btn" id="chat-send-btn">
                    <svg viewBox="0 0 24 24">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                </button>
            </div>

            <div class="emoji-library" id="emoji-library" style="display:none;">
                <div class="emoji-lib-header">
                    <button class="emoji-lib-btn" id="emoji-add-btn" title="å¯¼å…¥æ–‡ä»¶">
                        <svg viewBox="0 0 24 24" style="width:16px;height:16px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                    </button>
                    <button class="emoji-lib-btn" id="emoji-add-url-btn" title="å¯¼å…¥URL">
                        <svg viewBox="0 0 24 24" style="width:16px;height:16px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
                    </button>
                    <button class="emoji-lib-btn" id="emoji-del-btn" title="å¤šé€‰è¡¨æƒ…åŒ…">
                        <svg viewBox="0 0 24 24" style="width:16px;height:16px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><path d="M9 11l3 3L22 4"></path><path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </button>
                    <button class="emoji-lib-btn" id="emoji-trash-btn" title="åˆ é™¤é€‰ä¸­è¡¨æƒ…åŒ…" style="display:none;">
                        <svg viewBox="0 0 24 24" style="width:16px;height:16px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                    </button>
                    <div class="emoji-groups-bar" id="emoji-groups-bar" style="display:none;"></div>
                    <button class="emoji-lib-btn" id="emoji-group-btn" title="åˆ†ç»„ç®¡ç†">
                        <svg viewBox="0 0 24 24" style="width:16px;height:16px;stroke:#666;stroke-width:1.8;fill:none;stroke-linecap:round;stroke-linejoin:round;"><circle cx="6" cy="6" r="2"></circle><circle cx="18" cy="6" r="2"></circle><circle cx="6" cy="18" r="2"></circle><circle cx="18" cy="18" r="2"></circle><line x1="8" y1="6" x2="16" y2="6"></line><line x1="8" y1="18" x2="16" y2="18"></line><line x1="6" y1="8" x2="6" y2="16"></line><line x1="18" y1="8" x2="18" y2="16"></line></svg>
                    </button>
                </div>
                <div class="emoji-grid" id="emoji-grid"></div>
                <input type="file" id="emoji-upload-input" accept="image/*,.json" multiple style="display:none">
            </div>

        </div>

        <!-- ä¸ªæ€§åç‰‡ç¼–è¾‘é¡µé¢ -->
        <div class="card-edit-page" id="card-edit-page">
            <div class="sub-nav">
                <div class="back-btn" id="card-edit-back-btn">
                    <div class="back-arrow"></div>
                    <span>è¿”å›</span>
                </div>
                <div class="sub-title">ç¼–è¾‘èµ„æ–™</div>
            </div>
            
            <div class="card-edit-preview" id="card-edit-preview">
                <div class="card-edit-preview-avatar" id="card-edit-preview-avatar">è–¯</div>
                <div class="card-edit-preview-name" id="card-edit-preview-name">è–¯ç‰‡æœºç”¨æˆ·</div>
                <div class="card-edit-preview-sig" id="card-edit-preview-sig">è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½æ²¡å†™~</div>
            </div>
            
            <div class="edit-list">
                <div class="edit-section">
                    <div class="edit-item" id="edit-avatar-btn">
                        <div class="edit-label">å¤´åƒ</div>
                        <div class="edit-value">
                            <div class="edit-avatar-small" id="edit-avatar-small"></div>
                            <div class="edit-arrow"></div>
                        </div>
                    </div>
                    
                    <div class="edit-item" id="edit-bg-btn">
                        <div class="edit-label">èƒŒæ™¯å›¾</div>
                        <div class="edit-value">
                            <span id="edit-bg-value">é»˜è®¤</span>
                            <div class="edit-arrow"></div>
                        </div>
                    </div>
                    
                    <div class="edit-item" id="edit-name-btn">
                        <div class="edit-label">æ˜µç§°</div>
                        <div class="edit-value">
                            <span id="edit-name-value">è–¯ç‰‡æœºç”¨æˆ·</span>
                            <div class="edit-arrow"></div>
                        </div>
                    </div>
                    
                    <div class="edit-item" id="edit-signature-btn">
                        <div class="edit-label">ä¸ªæ€§ç­¾å</div>
                        <div class="edit-value">
                            <span id="edit-signature-value">è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½æ²¡å†™~</span>
                            <div class="edit-arrow"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å›¾ç‰‡é€‰æ‹©å¼¹çª— -->
        <div class="image-picker-modal" id="image-picker-modal">
            <div class="image-picker-content">
                <div class="picker-title" id="picker-title">é€‰æ‹©å›¾ç‰‡</div>
                
                <div class="picker-option" id="picker-local">
                    <div class="picker-option-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24" style="width:24px;height:24px;">
                            <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                            <circle cx="8.5" cy="8.5" r="1.5"></circle>
                            <path d="M21 15l-5-5L5 21"></path>
                        </svg>
                    </div>
                    <div class="picker-option-text">ä»æœ¬åœ°ç›¸å†Œé€‰æ‹©</div>
                </div>
                
                <div class="picker-option" id="picker-url-toggle">
                    <div class="picker-option-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24" style="width:24px;height:24px;">
                            <path d="M10 13a5 5 0 0 0 7.54.54l3 -3 3-3 3"></path>
                            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                        </svg>
                    </div>
                    <div class="picker-option-text">è¾“å…¥å›¾ç‰‡URL</div>
                </div>
                
                <input type="text" class="picker-url-input hidden" id="picker-url-input" placeholder="è¯·è¾“å…¥å›¾ç‰‡URLåœ°å€">
                <button class="picker-url-confirm hidden" id="picker-url-confirm">ç¡®è®¤</button>
                
                <input type="file" id="picker-file-input" accept="image/*,.jpg,.jpeg,.png,.gif,.webp" style="display:none;">
                
                <button class="picker-cancel" id="picker-cancel">å–æ¶ˆ</button>
            </div>
        </div>

        <!-- æ›´å¤šåŠŸèƒ½è®¾ç½®å¼¹çª— -->
        <div class="more-settings-modal" id="more-settings-modal">
            <div class="more-settings-content">
                <div class="more-settings-header">
                    <div class="more-settings-title">åŠ¨æ€é¡µé¢è®¾ç½®</div>
                    <div class="more-settings-desc">é€‰æ‹©è¦åœ¨åŠ¨æ€é¡µé¢æ˜¾ç¤ºçš„åŠŸèƒ½</div>
                </div>
                
                <div class="more-settings-list" id="more-settings-list">
                    <div class="more-settings-item" data-func-id="moments">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                    <path d="M21 15l-5-5L5 21"></path>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">æœ‹å‹åœˆ</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="moments"></div>
                    </div>
                    
                <div class="more-settings-item" data-func-id="forum">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                    <line x1="8" y1="8" x2="16" y2="8"></line>
                                    <line x1="8" y1="12" x2="14" y2="12"></line>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">è®ºå›</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="forum"></div>
                    </div>

                <div class="more-settings-item" data-func-id="reading">
                    <div class="more-settings-item-left">
                        <div class="more-settings-item-icon">
                            <svg class="icon-svg" viewBox="0 0 24 24">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                                <line x1="8" y1="7" x2="16" y2="7"></line>
                                <line x1="8" y1="11" x2="14" y2="11"></line>
                            </svg>
                        </div>
                        <div class="more-settings-item-name">é˜…è¯»</div>
                    </div>
                    <div class="toggle-switch active" data-func-id="reading"></div>
                </div>

                    <div class="more-settings-item" data-func-id="calendar">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">æ—¥å†</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="calendar"></div>
                    </div>
                    
                    <div class="more-settings-item" data-func-id="weather">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">å¤©æ°”</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="weather"></div>
                     </div>

                    <div class="more-settings-item" data-func-id="shopping">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">è´­ç‰©</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="shopping"></div>
                    </div>
                    
                    <div class="more-settings-item" data-func-id="game">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <rect x="2" y="6" width="20" height="12" rx="2"></rect>
                                    <circle cx="6" cy="12" r="1.5"></circle>
                                    <circle cx="10" cy="12" r="1.5"></circle>
                                    <path d="M15 10v4"></path>
                                    <path d="M13 12h4"></path>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">æ¸¸æˆä¸­å¿ƒ</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="game"></div>
                    </div>

                    <div class="more-settings-item" data-func-id="tacit">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">é»˜å¥‘å¤§æŒ‘æˆ˜</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="tacit"></div>
                    </div>

                    <div class="more-settings-item" data-func-id="spiritGalaxy">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <polygon points="12 2 15.09 10.26 23.77 10.26 17.39 16.01 20.48 24.27 12 18.46 3.52 24.27 6.61 16.01 0.23 10.26 8.91 10.26"></polygon>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">å¿ƒçµæ˜Ÿç³»</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="spiritGalaxy"></div>
                    </div>

                    <div class="more-settings-item" data-func-id="ideaLibrary">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8.5 8.5z"></path>
                                    <line x1="12" y1="7" x2="12" y2="13"></line>
                                    <line x1="9" y1="10" x2="15" y2="10"></line>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">çµæ„Ÿåº“</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="ideaLibrary"></div>
                    </div>

                    <div class="more-settings-item" data-func-id="thirdParty">
                        <div class="more-settings-item-left">
                            <div class="more-settings-item-icon">
                                <svg class="icon-svg" viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="3"></circle>
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                </svg>
                            </div>
                            <div class="more-settings-item-name">è§‚å¯Ÿè€…</div>
                        </div>
                        <div class="toggle-switch active" data-func-id="thirdParty"></div>
                    </div>
                
                <div class="more-settings-footer">
                    <button class="more-settings-confirm" id="more-settings-confirm">ç¡®å®š</button>
                </div>
            </div>
        </div>

    </div>


</body>
</html>